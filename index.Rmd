---
title: "ԱՆԱԼՈԳԱՅԻՆ ԻՆՏԵԳՐԱԼ ՍԽԵՄԱՆԵՐԻ ՆԱԽԱԳԾՈՒՄ։"
author: '**Հեղինակներ՝** Արմեն Համբարյան, Վարդան Անատոմյան։'
date: "`r Sys.Date()`"
output:
  word_document: default
  pdf_document: default
documentclass: book
bibliography:
- book.bib
- packages.bib
link-citations: yes
github-repo: "rstudio/bookdown-demo"
site: bookdown::bookdown_site
editor_options: 
  markdown: 
    wrap: 72
---

```{r  include=FALSE}
library(plotly)
library(ggplot2)
library(reticulate)
use_python("/../usr/bin/python3")
```

```{python}
import numpy as np
import matplotlib.pyplot as plt
```

# ՆԵՐԱԾՈՒԹՅՈՒՆ։

Նախքան **օպերացիոն ուժեղարարների** բնութագրիչ մեծությունների,
կառուցվածքի, նախագծման փուլերի, դրանց առանձնահատկությունների մասին
խոսելը ներածական մասը կնվիրենք դաշտային տրանզիստորների կառուցվածքի,
աշխատանքային ռեժիմների Վոլտ֊Ամպերային **«ՎԱԲ»** բնութագրի համառոտ
ներկայացմանը։

## ՄՕԿ Մետաղ օքսիդ կիսահաղորդիչ տրանզիստորներ։

```{r, echo=FALSE, out.width='100%', fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/mostex.jpg")
```

Նկարում պատկերված են **ՆՄՕԿ** և **ՊՄՕԿ** տրանզիստորների պարզեցված
կառուցվածքը։ Ինչպես երևում է նկարից սարքերը սիմետրիկ են փականի նկատմամբ,
որը պատճառներից մեկն է լայնամաշտաբ կիրառման, քանի որ հեշտացնում է
արտադրական պրոցեսները ի տարբերություն երկբևեռ տրանզիստորների։ Ինտեգրալ
սխեմաներ պատրաստելուց վերցնում են P տիպի կիսահաղորդիչ հարթակ
«substrate»: ՊՄՕԿ տռանզիստորներ ստանալու համար տարբեր եղանակներով
հարթակի մեջ ներդնում են N տիպի իմպլանտ։

Աշխատանքի սկզբունքը ուսունմասիրելու համար դիտարկենք ՆՄՕԿ տրանզիստորը։
Տրանզիստորի աշխատանքի համար իրականում անհրաժեշտ է ևս մեկ ելուս, որպիսի
հարթակին պոտենցիալ հաղորդի։ Հարթակից ակունք և ըմբիչ հոսանք չանցնելու
համար պետք է հարթակը ունենա ավելի ցածր պոտենցիալ։ Պարզության համար
ենթադրենք հարթակը և ակունքը միացված են իրար։ Ինչպես երևում է նկարից
փականը և հարթակը առանձնացված են օքսիդով, այս կառուցվածքը իրենից
ներկայացնում է կոնդեսատոր։

## Շեմային «treshold» լարում։

```{r, echo=FALSE, out.width='100%', fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/th.png")
```

Դիտարկենք նկարում պատկերված արտաքին լարումներին միացված ՆՄՕԿ֊ը։ Երբ
փականի պոտենցիալը հարթակի նկատմամբ մեծանում է, $\pmb{\varphi>0}$ հարթակի
ազատ լիցքակիրները խոռոչները սկսում են վանվել ներքև թողնելով բացասական
իոններ՝ ստեղծվում է աղքատացված տիրույթ։ Այսպիսով որքան մեծանա
$\pmb{\varphi}$֊ն ՝այնքան ավելի կհաստանա աղքատացման տիրույթը, հետևաբար
խոռոչների կոնցենտրացիան հարթակի ներքևում ավելի կմեծանա։
$\pmb{\varphi}$֊ի բավարար մեծ արժեքի դեպքում օքսիդի տակ սկսում է իհայտ
գալ ազատ էլեկտրոններ, որոնց մի մասը ակունքիցից են հոսել, իսկ մի մասը՝
հարթակից։ Այսպիսով ակունքի և ըմբիչի միջև առաջանում է հոսքուղի։ Այս
երևույթը հաճախ անվանում են նաև կիսահաղորդչի տիպի շրջում։

**$V_{gs}$֊ի այն փոքրագույն լարումը, որի դեպքում առաջանում է հոսքուղի, «տեղի է
ունենում ինվերսիա»՝ կոչվում է շեմային լարում:**

```{=tex}
\begin{equation} 
  V_{TH} = 𝜱_{MS} + 2 𝜱_F + \frac{Q_{dep}}{C_ox}
  (\#eq:1)
\end{equation}
```
Որտեղ՝

-   $𝜱_{MS}$֊ը հարթակի և փականի աշխատանքային ֆունկցիաների տարբերությունն
    է։
-   $𝜱_F = \frac{kT}{q} \ln{\frac{N_{sub}}{n_i}}$
    -   $k$֊ն Բելցմանի հաստատուն։
    -   $N_{sub}$֊ը հարթակի լիցքակիրների կոնցետրացիան **«doping
        density»**:
    -   $n_i$֊ը մաքուր կիսահաղորդիչ հարթակի լիցքակիրների կոնցետրացիան
        **«udoping density»**:
-   $C_{ox}$֊ը միաոր մակերես ունեցող հաթակ օքսիդ ըմբիչ կոնդեսատորի
    ունակությունն է։
-   $Q_dep$֊ը աղքատացման տիրույթի իոնների լիցքն է։

Ներկայումս, երբ տրանզիստորների չափերը համենատելի են ատոմի չափերին շատ
դժվար է տալ բանաձև ոչ միայն շեմային լարման, այլ նաև ՎԱԲ֊ի և այլ
բնութագրերի համար, այդ պատճառով պարամետրերը հաճախ **գնահատում** են
օգտվելով վիճակագրական մեթոդներից։

## Վոլտ֊Ամպեռային բնութագիրը։

ՄOԿ տրանզիստորի վոլտ֊Ամպեռային բնութագրի մասին խոսելիս կուզենաինք նշել մի կարևոր 
հատկություն որը ևս պատճառներից մեկն է ինտեգրալ սխեմաներում դոմինանտ լինելու։ 
ՄՕԿ֊ի փականի պոտենցիալի բավարար արժեքի դեպքում երբ ձևաորվել է հոսքուղի, փականով հոսանք 
չի անցնում։ Միարժամանակ ըմբիչ ակունք հոսանքի համար անհրաժեշտ բոլոր պայմանները ստեղծված 
են «Տրանզիստորը բաց է» իտարբերություն երկբևեռ տրանզիստորների որը բաց է միայն այն դեպքում 
երբ բազաից էմիտոր անցնում է հոսանք։

Դիտարկենք նկարներում պատկերված արտաքին լարումներին միացված երկու դեպքերը։

::: {.cols data-latex=""}
::: {.col data-latex="{0.45\\textwidth}"}

```{r, echo=FALSE, out.width="100%", fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/va1.png")
```
Երբ ակունքի և ըմբիչի պոտենցիալները իրար հավասար են՝ 
```{=tex}
\begin{align}  
  Q_d = WC_{ox}(V_{GS} - V_{TH})
\end{align}
```

:::

::: {.col data-latex="{0.1\\textwidth}"}
  <!-- an empty Div (with a white space), serving as
a column separator -->
:::

::: {.col data-latex="{0.45\\textwidth}"}

```{r, echo=FALSE, out.width="100%", fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/va2.png")
```
Երբ $V_{DS>0}$ հոսքուղու որևէ $x$ կետում՝

```{=tex}
\begin{align} 
  Q_d(x) = WC_{ox}(V_{GS} - V(x) V_{TH})
\end{align}
```

:::
:::

Այժմ ենթադրենք, որ ունենք N տիպի բավական երկար կիսահաղորդիչ, որը տեղադրված է
համասեռ մեկ միավոր էլ․ դաշտում։ Ակնհայտ լիցքակիրները կսկսեն արագանալ,
սակայն տեղի են ունենում բախումներ, այդ պատճառուվ որոշները կանգ կառնեն և
նորից կսկսեն արագանալ։ Որոշները կարող են ընդհանրապես հանդիպել խոռոչի և
զբաղեցնել ազատ տեղը։ Այսպիսով որպիսի կարողանանք բնութագրենլ շարժումը
ներմուծենք լիցքի շարժողականություն մեծությունը, որը միջինացված արժեք է և
ցույց է տալիս, թե միջինում ինչ արագությամբ է շարժվում լիցքակիրը արտաքին
էլ․ դաշտի ազդեցության տակ $μ_n = \frac{V}{E}$։ Շարժողականություն բարձրացման համար 
կիրառվում են տարբեր մեթոդներ, որից մեկը կիսահաղորդչի բյուրեղային ցանցի նոսրացումն է։ 
Ամբողջ միտքը կայանում է նրանում որ ատոմների միջև հեռաորությունը մեծացնելով փոքրանում է 
բախումների հավանականությունը։

Երբ հայտնի է ազատ լիցքակիրների բաշխվածությունը օգտվելով էլ․ հոսանքի
սահմանումից կստանանք՝

```{=tex}
\begin{equation} 
  I_{D} = μ_n C_{ox} \frac{W}{L}[(V_{GS} - V_{TH})V_{DS} - \frac{1}{2}V_{DS}^2]
  (\#eq:2)
\end{equation}
```
Ստացված $(1.2)$ Արտահայտությունը ըստ $V_{DS}$֊ի մեկ մեծագույն ունեցող
քառակուսի հավասարում է, որը իր առավելագույն արժեքը ընդունում է
$V_{DS} = V_{GS} - V_{TH}$֊ի դեպքում «overdrive voltage»։ Առավելագույն հոսանքը կլինի՝

```{=tex}
\begin{equation} 
  I_{D, max} = \frac{1}{2} μ_n C_{ox} \frac{W}{L} (V_{GS} - V_{TH})^2
  (\#eq:3)
\end{equation}
```

$V_{DS}$֊ի մինչև $V_{GS} - V_{TH}$ արժեքը ասում ենք որ սարքը գտնվում է տրիոդային 
ռեժիմում։ Երբ $V_{DS} \ll 2 (V_{GS} - V_{TH})$ $(1.2)$֊ը կարող ենք գրել՝

```{=tex}
\begin{equation} 
  I_{D}  ≈ \frac{1}{2} μ_n C_{ox} \frac{W}{L} (V_{GS} - V_{TH}) V_{DS}
  (\#eq:4)
\end{equation}
```
Ստացվում է Տրիադ ռեժիմում ՄՕԿ֊ի ելքային ՎԱԲ֊ը «ակունք ըմբիչ» կարող ենք  մոտարկել որպես 
գծային դիմադրություն։ Որքան $V_{DS}$֊ը փոքր լինի այդքան մոտարկման ճշտությունը բարձր կլինի։

```{r, echo=FALSE, out.width="100%", fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/triode.png")
```
Տրիադ ռեժիմում ակունք ըմբիչ դիմադրությունը հավասար կլինի՝
 
```{=tex}
\begin{equation} 
  R = \frac{1}{ μ_n C_{ox} \frac{W}{L} (V_{GS} - V_{TH})}
  (\#eq:5)
\end{equation}
```
Այսպիսով ՄՕԿ տրանզիստորը կարող ենք ոգտագործոլ որպես դիմադրություն որի արժեքը 
ղեկավարվում է փականի լարումով։ 

Այժմ պարզենք թե ինչ է տեղի ունենում երբ $V_{DS} > V_{GS} - V_{TH}$:

```{r, echo=FALSE, out.width='100%', fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/pinchoff.png")
```

Նկ․ 1.6 ում պատկերված հոսքուղում լիցքերի բաշխվածությունը։ Ինչպես տեսնում
ենք, երբ $V_{DS} > V_{GS} - V_{TH}$ հոսքուղու որևէ $X$ կետից սկսած այլևս
փականի պոտենցիալը բավարար չէ հարթակում ինվերսիա առաջացնելու համար՝
արդյունքում հոսքուղին կտրվում է։ Ըմբիչից մինչև կտրման կետը ձևաորվում է աղքատացման 
տիրույթ։ Այժմ կարող ենք մտովի պատկերացնել թե ինչ կլինի էլեկտրոնի հետ եթե ինչ որ կերպ 
կարողանանք այն ներմուծեմք նշված հատվածը։ Դրանք շատ արագ կհոսեն դեպի ըմբիչ։ 
Ըմբիչով անցնող հոսանքը չի հետևում 
պարաբոլին։ Քանի որ լիցքերը բավական արագացած կլինեն կտռման կետում, դրանց
մի մասը հասնում է ըմբիչ։ Այս երևույթը կոչվում է թունելային անցում։
1.2֊ը՝ Ստացվել է հոսքուղու ամբողջ երկարությամբ Ինտեգրման արդյունքում
ուստի անհրաժեշտ է ինտեգրել մինչև այն $X$ կետը, որտեղ հոսքուղին ընհատվում
է։

```{=tex}
\begin{equation} 
  I_{D}  = \frac{1}{2} μ_n C_{ox} \frac{W}{L'} (V_{GS} - V_{TH})^2
  (\#eq:6)
\end{equation}
```
1.6 արտահայտության մեջ $L'$֊ը հաճախ փոխարինում ենք $L$֊ով։ երբ
$V_{DS} > V_{GS} - V_{TH}$ անվանում են տրանզիստորի հագեցման ռեժիմ։ Այս
ռեժիմում $I_D$֊ը կախված չէ $V_{DS}$֊ց։

Բոլոր հետևությունները վերաբերվում են նաև ՊՄՕԿ տրանզիստորներին, միայն պետք
է հիշել, որ փականի պոտենցիալը պետք է ավելի փոքր լինի քան ակունքի
պոտենցիալը, հետևաբար ՎԱԲ֊ի մեջ պետք է ավելացնել $-$ նշանը։

### Հոսքուղու մոդուլացիա։

Ինչպես ցույց է տրված նկ. (1.6) ըմբիչի պոտենցիալի բարձրացմանը զուգահեռ ավելի փոքրանում է 
հոսքուղու էֆեկտիվ երկարությունը և աստիճանաբար մոտենում է ակունքին։ $L'$֊ի փոքրացումը 
բերում է նրան որ մեծանում է ըմբիչով անցնող հոսանքը։ Այս երևույթը կոչվում է հոսքուղու 
երկարության մոդուլացիա։ Իրականում 1.6 արտահայտության մեջ $V_{DS}$ մասնակցում է քանի որ 
$L'$ էֆեկտիվ երկարությունը կախված է «ֆունկցիա է» $V_{DS}$֊ից։ հոսքուղու Էֆեկտիվ 
երկարությունը որոշվում է $L' = L - \Delta L$ որտեղ $\Delta L$֊ը ախքատացման  տիրույթի 
երկարությունն է: $\Delta L / L = λ V_{DS}$ որտեղ $λ$֊ն ՄՕԿ֊ի հոսքուղու երկարության 
մոդուլացիաի գործակիցն է։    

```{=tex}
\begin{equation} 
  I_{D}  ≈ \frac{1}{2} μ_n C_{ox} \frac{W}{L} (V_{GS} - V_{TH})^2(1 + λ V_{DS})
  (\#eq:7)
\end{equation}
```

::: {.cols data-latex=""}
::: {.col data-latex="{0.45\\textwidth}"}

```{r, echo=FALSE, out.width="1500px", fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/chanalmod.png")
```
:::

::: {.col data-latex="{0.1\\textwidth}"}
  <!-- an empty Div (with a white space), serving as
a column separator -->
:::

::: {.col data-latex="{0.45\\textwidth}"}

Նկարում պատկերված է հոսքուղու երկարության մոդուլացիաի էֆեքտը։ Ըմբիչ ակունք լարման 
փոփոխությունը բերում է ըմբիչով անցնող հոսանքի փոփոխության։ Քանի որ հոսանքի փոփոխությունը 
պայնանաորված է հոսքուղու էֆեքտիվ երկարության փոփոխությամբ դժվար չէ գալ այն եզրակացության որ 
որքան երկար լինի ՄՕԿ֊ի հոսքուղին այնքան փոքր կլինի $λ$-ն։

:::
:::


### Body էֆեքտ։

վերևում մենք ենթադրել էինք, որ հարթակը և ակունքը իրար են միացված և ունեն
նույն պոտենցիալը։ Նկ․ պատկերված է ՆՄՕԿ, որի հարթակը միացված է ավելի ցածր
պոտենցիալի։

```{r, echo=FALSE, out.width='100%', fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/body.png")
```

Քանի որ աղքատացման տիրույթը ստեղծում է փական հարթակ պոտենցիալների
տարբերության հետևանքով՝ ուստի երբ հարթակի պոտենցիալը ավելի փոքր է,
աղքատացման տիրույթը պետք է ավելի լայն լինի, ինչպես պատկերված է նկարում։
Այսպիսով փականի նույն պոտենցիալի դեպքում ավելի շատ բացասական իոններ
կլինեն օքսիդի տակ 1.1֊ ում՝ $V_{TH}$֊ը ֆունկցիա է աղքատացման տիրույթի
լիցքից նշանակում է՝ շեմային լարումը պետք է մեծանա։ Այս ֆենոմենը կոչվում է
մարմնի «Body» էֆեքտ։

```{=tex}
\begin{equation} 
  V_{TH} = V_{TH0} + \pmb{\gamma} (\sqrt{2𝜱_{F} + V_{SB}} + \sqrt{|2𝜱_{S}|})
  (\#eq:8)
\end{equation}
```
Որտեղ՝

-   $V_{TH0}$֊ն այն շեմաին լարումն է երբ հարթակը և փականը իրաի են
    միացված։
-   $V_{BS}$֊ը հարթակ փական լարումն է։
-   $\pmb{\gamma} = \frac{\sqrt{2 q \epsilon_{si} N_{sub}}}{C_{ox}}$:


### Ենթաշեմային հաղորդականություն

ՄՕԿ-ի ՎԱԲ֊ի վերլուծության ժամանակ մենք ենթադրել ենք, որ սարքն անջատվում է՝ ըմբիչով 
հոսանք չի անցնում երբ փականի լարումը փոքր է շեմաին լարումից։ 
Իրականում փականի $V_{GS} ≈ V_{TH}$-ի պոտենցիալների դեպքում հոսքուղում ձևաորվում է 
«թույլ» ինվերսիոն շերտ և որոշակի էականորեն փոքր հոսանք հոսում է ըմբիչից դեպի ակունք: 
Նույնիսկ $V_{GS} < V_{TH}$-ի դեպքում $I_D$-ը հոսանքը փոքր բայց զրո չէ։ 
$I_{D}$-ը փականի պոտենցիալի ենթաշեմային միջակայքում ցուցադրում է էքսպոնենցիալ 
կախվածություն։ Որքան մեծ է ըմբիչի պոտենցիալը այդքան ենթաշեմային հոսանքը մեծ կլինի։

```{=tex}
\begin{equation} 
 I_D = I_0 \exp{\frac{V_{GS}}{ξ V_{T}}}
  (\#eq:9)
\end{equation}
```
Որտեղ  $I_{0}$֊ն համեմատական է $W/L$֊ին , $ξ > 1$ գործակից է որը ցույց է տալիս թե որքան 
է ՄՕԿ֊ը տարբերվում իդեալականից, $V_{T} = kT/q$: Ենթաշեմային հեսանքները սկսում են կարևոր 
դեր խաղալ երբ սխեմայում առկա է միլիոնաոր ՄՕԿ֊էր։   

## ՄՕԿ փոխանցման գործակից «Transconductance»:

Հագեցման ռեժիմում, ինչպես ցույց է տրված (1.6)֊ում ըմբիչի հոսանքը, կախված է
ըմբիչ ակունք պոտենցիալների տարբերությունից։ ՄՕԿ֊ը իրեն դրսևորում է
ինչպես հոսանքի աղբյուր։ Որպես փոխանցման գործակից սահմանենք ազդեցության
$V_{GS}$ փոփոխության հետևանքով արձագանքի $I_D$ փոփոխությունը, երբ
$V_{DS} = Const$

```{=tex}
\begin{equation} 
  g_m = \frac{\partial I_D}{\partial V_{GS}} =  μ_n C_{ox} \frac{W}{L} (V_{GS} - V_{TH})
  (\#eq:10)
\end{equation}
```
```{r, echo=FALSE, out.width='100%', fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/gm.png")
```

Նկարում պատկերված է փոխանցման գործակցի կախվածությունը պարամետրերից։

## ՄՕԿ փոքր ազդանշան «Small-Signal» մոդել:

Ինչպես հայտնի է կիսահաղորդչային սարքերը ոչ գծային տարեր են։ Այն Շղթաները,
որոնք պարունակում են ոչ գծային տարեր հաշվարկները հիմնականում մոտավոր են։
ՎԱԲ֊ի համար ստացված (1.2) , (1.5) արտահայտությունը շատ կարևոր է
շղթաների նախագծման հետազոտման համար: Իրականում կան ՎԱԲ֊ի այլ
արտահայտություններ, որտեղ օրինակ՝ հաշվի է առնված այն, որ ակունքը, հարթակը
և ըմբիչը կազմում են երկբևեռ տրանզիստոր։ Սակայն հարց է առաջանում, թե որքան
է դա կարևոր շղթայի աշխատանքի համար։ Կախված ազդանշանի փոփոխման չափից
հաշվարկների պարզեցման համար ՄOԿ֊ի իրական ՎԱԲ֊ի փոխարեն օգտվում ենք ՄՕԿ֊ի
փոքր ազդանշան մոդելից, ըստ որի ազդեցության փոքր փոփոխություն պատճառով
արձագանքի փոփոխության միջև կապը գծային է։

Փոքր ազդանշան մոդելը կառուցվում է ենթադրելով, որ տրանզիստորը գտնվում է
հագեցման ռեժիմում, ուստի շատ կարևոր է հաշվարկների արդյունքները ստանալուց
հետո հետ վերադառնալ և ստուգել հագեցման պայմանը։ Ազդանշանը ներկայացվում է
երկու լարումների գումար։ Առաջինը ազդանշանի հաստատուն մասն է «$V_b$», այն
ընտրում է տրանզիստորի աշխատանքային կետը։ Երկրորդը փոփոխական մասն է՝
«ենթադրվում է ունի փոքր ամպլիտուդ»։ Դիտարկենք կամայական «առանց ռեակտիվ
տարերի» ակունք ըմբիչ պարունակող ճյուղ։ Դիցուկ ճյուղի ծայրերին
պոտենցիալների տարբերությունը $U$֊է, իսկ փականի լարումը $V_b = Const$: Եթե
տրանզիստորը գտնվում է հագեցման ռեժիմում, ապա ճյուղով կանցնի $I_{Db}$ հոսանք,
որը կախված չէ $U$֊ից։ Նշանակում է ճյուղին համարժեք է $U = 0$ և ակունք
ըմբիչի փոխարեն $I_{Db}$ մեծությամբ հասանքի աղբյուրով ճյուղ։ Այժմ
վերադրենք ազդանշանի փոքր փոփոխությունը։ ՈՒնենք տրանզիստոր, որի $g_{mb}$֊ն
$(V_{GS} = V_b , I_{Db})$ կետում ՎԱԲ֊ին տարված շոշափողնի և $V_{GS}$
առանցքի կազմած անկյան տանգեսն է։ Մոդելում ՎԱԲ֊ը ապրոքսիմացվում է
շոշափողնին, ինչպես պատկերված է նկարում։

```{python echo=FALSE}
x = np.array([0 , 0.8])
x_sat = np.linspace(0.8, 3, 100)
y_sat = 0.01 + (x_sat - 0.8)**2
y = np.array([0.01, 0.01])
x=np.append(x, x_sat)
y=np.append(y, y_sat)
omegat = np.linspace(-2*np.pi , 2*np.pi , 100)
signal = 0.3 * np.sin(omegat)
gm = 2*1.7
col = np.linspace(0, 2, 100)

fig, ax = plt.subplots(layout='constrained')
ax.plot(x, y, 'r', label='ՎԱԲ')
ax.plot(col,  0.01 + (signal + 1.7)**2 , 'b', label='$I_D$ Հոսանքը առանց հոսքուղու մոդուլացիաի։')
ax.plot(col,  0.01 + 1.7**2 + signal*gm , color='orange', label= '$I_D$ Հոսանքը ըստ մոդելի։')

ax.scatter(x =2.5, y= 0.01 + 1.7**2, color = 'r' )
ax.plot([2.5,2.5], [0, 0.01 + 1.7**2], linestyle="dotted", color = 'c')
ax.plot([0, 2.5], [0.01 + 1.7**2, 0.01 + 1.7**2],  linestyle="dotted", color = 'c')

ax.plot(2.5 + signal, col)
ax.plot([2,3] , [2*gm + 0.01+1.7**2-2.5*3.4 , 3*gm + 0.01+1.7**2-2.5*3.4],linewidth=0.7, color = 'g')

ax.set_title("Փոքր ազդանշանի մեդելը։")
ax.set_xlabel("$V_{GS}$  Լարումը։")
ax.set_ylabel("Ըմբիչով անցնող հեսանքը։")
ax.legend( fontsize=8)
ax.grid()
for tick in ax.xaxis.get_major_ticks():
    tick.tick1line.set_visible(False)
    tick.label1.set_visible(False)
for tick in ax.yaxis.get_major_ticks():
    tick.tick1line.set_visible(False)
    tick.label1.set_visible(False)
plt.show()
```

Հաճախ կարիք է առաջանում բարդացնել մոդելը խնդրի պայմանից ելնելով և
ընդգրկել նաև հոսքուղու մոդուլացիան։

```{r, echo=FALSE, out.width='100%', fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/smolsignal.png")
```

Նկարում պատկերված են երկու փոքր ազդանշան մոդելներ։ (b)֊ում հաշվի է
առնված հոսքուղու մոդուլացիան որտեղ՝

```{=tex}
\begin{equation} 
  r_0 = \frac{\partial V_{DS}}{\partial I_D} ≈ \frac{1}{λ I_D}
  (\#eq:8)
\end{equation}
```
## ՄՕԿ «Spice» մոդել:

«Spice»-ը ծրագրային ապահովում է, որի առաջին տարբերակը թողարկվել է 1973
թվականին։ «Spice»-ը թույլ է տալիս կառուցել սխեմաի մաթեմատիկական մոդելներ,
կատարել տարբեր տեսակի հետազոտություններ։ Որպիսի հաշվիչ սարքը կարողանա
կառուցել սխեմաի մոդելը անհրաժեշտ է տալ տարերը, դրանց միացումը ընդ որում
ամեն տարի համար գոյություն ունի միացումների սահմանված հերթականություն,
ինչպես նաև այդ տարերի մաթեմատիկական մոդելները «lib»։ «Spice» ում ՄՈԿ֊ը
մոդելաորվում է`

-   VTO Շեմաին լարումը երբ $V_{SB} = 0$
-   $GAMMA$ «body-effect» գործակից։
-   PHI $2𝜱_{F}$։
-   TOX օքսիդիք հաստությունը։
-   NSUB Հարթակի «դոպինգաորման» կոնցենտրացիան։
-   UO Հոսքուղու շարժողականությունը։
-   LAMBDA Հոսքուղու մոդուլացիաի գործակից։
-   CJ ակունք ըմբիչ կոնդեսատորի ունակությունը միաոր մակերեսի համար։
-   ...

```{r, echo=FALSE, out.width='100%', fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/spmodel.gif")
```
ՄՕԿ֊ի spice մոդելներ կազմելը նույնպես շատ կարևոր գործնթաց է և որքան մոդելը ճշգրիտ է 
բնութագրում իրական սարքին այդքան մեծ է երաշխիքը որ այդ մոդելներով մոդելաորված և 
արտադրված ինտեգրալ սխեման և սխեմաի spice մոդելը նույն արձյունքներն են գրանցում։ Ոչ 
պակաս կարևոր է մոդելի օպտիմալ լինելը որքան բարդ լինի մոդելը այդքան շատ ռեսուրսներ և 
ժամանակ կպահանջվի Spice հետազոտության համար։ 


Կան պարամետրեր, որոնք կարելի է փոփոխել Spice մոդելում՝ 
հոսքուղու երկարությունը, լայնությունը, ...։

Այս աշխատանքում, որպես մոդելաորման միջոց օգտագործվել է
[NgSpice](https://ngspice.sourceforge.io/), իսկ որպես գրադարան՝ «Google»
և «SkyWater» ընկերությունների համատեղ թողարկած
[130նմ](https://skywater-pdk.readthedocs.io/en/main/versioning.html#current-status)
գրադարանից: Նշված ծրագրային ապահովումները թողարկվել են ուսումնական
նպատակներով և դրանց ճշտությունը բավարար չէ կոնվերցիոն նպատակներով
օգտագործվել համար։

Տրանզիստորներ ՎԱԲ֊ի հետազոտման համար մոդելավորենք նկարում պատկերված
սխեման։

::: {.cols data-latex=""}
::: {.col data-latex="{0.6\\textwidth}"}
```{r, echo=FALSE, out.width='200%', fig.align='center', fig.cap='...'}
knitr::include_graphics("imige/vgsd.png")
```
:::

::: {.col data-latex="{0.05\\textwidth}"}
  <!-- an empty Div (with a white space), serving as
a column separator -->
:::

::: {.col data-latex="{0.4\\textwidth}"}
Շղթաի Spice նկարագրությունը։

```{}
xm1 dr GND  GND  nfet01v8_lvt w=1 l=0.5
vds dr GND  dc=1.8
vgs ge GND  dc=1.8
```
:::
:::

Spice նկարագրությունը անհրաժեշտ է ավելացնել հետազոտության տեսակը։
Նկարված սխեմաի համար կատարվել է մի քանի հետազոտություն։ Միտքը կայանում է
նրանում որ ֆիքսենք մի լարումը և փոփոխենք միուսը։ Այդպիսի հետազոտության
համար լավագույն տարբերակը «DC» հետազոտությունն է, որի դեպքում ենթադրվում
է նշված մեծության փոփոխվելու ժամանակ շղթայում անցումային պրոցեսները
ավարտվել է։

`dc vds 0 1.8 0.01  vds 0.2 1.8 0.5`

-   $V_{GS}$ լարումը փոփոխվի (0 , 1.8) միջակայքում 0.01 քայլով։
-   $V_{DS}$ լարումը փոփոխվի (0.2 , 1.8) միջակայքում 0.5 քայլով։

```{r  echo=FALSE, fig.cap='...', out.width='100%', fig.align='center'}
df <- read.csv('./sp_data/vgs.csv')
fig1 <- plot_ly(df, x = ~Vgs, y = ~Idr18, name = 'Vd = 1.8(Վ)', type = 'scatter', mode = 'lines') 
fig1 <- fig1 %>% add_trace(y = ~Idr05, name ='Vd= 0.5(Վ)', mode = 'lines') 
fig1 <- fig1 %>% add_trace(y  = ~Idr02, name = 'Vd = 0.2(Վ)', mode = 'lines')
fig1<- fig1 %>%layout(legend = list(x = 1, y = 0.5))
fig1<- fig1 %>%layout(xaxis = list(range = c(0.4, 1.8)))

df <- read.csv('./sp_data/vds.csv')
fig2 <- plot_ly(df, x = ~Vds, y = ~Idr18, name = 'Vg = 1.8(Վ)', type = 'scatter', mode = 'lines') 
fig2 <- fig2 %>% add_trace(y = ~Idr14, name = 'Vg = 1.4(Վ)', mode = 'lines') 
fig2 <- fig2 %>% add_trace(y  = ~Idr10, name = 'Vg = 1(Վ)', mode = 'lines')
fig2<- fig2 %>%layout(legend = list(x = 1, y = 0.5))

fig <- subplot(fig1, fig2,nrows = 2, titleY = FALSE, titleX = FALSE, margin = 0.05)
fig <- fig %>%layout( 
         yaxis = list( 
          title = 'ԸՄԲԻՉՈՎ ԱՆՑՆՈՂ ՀՈՍԱՆՔԸ։'))

annotations = list( 
  list( 
    x = 0.5,  
    y = 1,  
    text = "ՓԱԿԱՆ ԱԿՈՒՆՔ ԼԱՐՈՒՄԸ:",  
    xref = "paper",  
    yref = "paper",  
    xanchor = "center",  
    yanchor = "bottom",  
    showarrow = FALSE 
  ),  
  list( 
    x = 0.5,  
    y = 0.45,  
    text = "ԸՄԲԻՉ ԱԿՈՒՆՔ ԼԱՐՈՒՄԸ:",  
    xref = "paper",  
    yref = "paper",  
    xanchor = "center",  
    yanchor = "bottom",  
    showarrow = FALSE 
  ))
fig <- fig %>%layout(annotations = annotations) 
fig

```

```{r include=FALSE}
# automatically create a bib database for R packages
knitr::write_bib(c(
  .packages(), 'bookdown', 'knitr', 'rmarkdown'
), 'packages.bib')
```
